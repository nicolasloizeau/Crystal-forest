{"version":3,"file":"url-PF53DtLt.js","names":["url: string","lineage: string[]"],"sources":["../src/url.ts"],"sourcesContent":["export type HashParams = {\n  params: string\n  lineage: string[]\n}\n\nexport function parseHashParams(url: string): HashParams {\n  const hashIndex = url.indexOf(\"#\")\n\n  if (hashIndex === -1) {\n    return { params: \"\", lineage: [] }\n  }\n\n  const params = url.slice(hashIndex + 1)\n\n  // old params only #0x{bytes}\n  if (params.startsWith(\"0x\")) {\n    return { params, lineage: [] }\n  }\n\n  // new extensible params params #lineage=...&params=...\n  const urlSearchParams = new URLSearchParams(params)\n\n  // handle params lineage param\n  let lineage: string[] = []\n  const lineageParam = urlSearchParams.get(\"lineage\")\n\n  if (lineageParam) {\n    lineage = lineageParam.split(\",\").map(l => l.trim())\n  }\n\n  return {\n    params: urlSearchParams.get(\"params\") || params,\n    lineage,\n  }\n}\n"],"mappings":";AAKA,SAAgB,gBAAgBA,KAAyB;CACvD,MAAM,YAAY,IAAI,QAAQ,IAAI;AAElC,KAAI,cAAc,GAChB,QAAO;EAAE,QAAQ;EAAI,SAAS,CAAE;CAAE;CAGpC,MAAM,SAAS,IAAI,MAAM,YAAY,EAAE;AAGvC,KAAI,OAAO,WAAW,KAAK,CACzB,QAAO;EAAE;EAAQ,SAAS,CAAE;CAAE;CAIhC,MAAM,kBAAkB,IAAI,gBAAgB;CAG5C,IAAIC,UAAoB,CAAE;CAC1B,MAAM,eAAe,gBAAgB,IAAI,UAAU;AAEnD,KAAI,aACF,WAAU,aAAa,MAAM,IAAI,CAAC,IAAI,OAAK,EAAE,MAAM,CAAC;AAGtD,QAAO;EACL,QAAQ,gBAAgB,IAAI,SAAS,IAAI;EACzC;CACD;AACF"}